<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="css/nullstyle.css" />
		<link rel="stylesheet" href="css/style.css" />
		<title>task2</title>
	</head>
	<body>
		<main class="page">
			<div class="page__container">
				<div class="task">
					<div class="task__condition text">
						Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) програма нагадує про якусь подію (це просто текст) і також виводиться
						порядковий номер скільки раз вже нагадування було. Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів. Методи зупинки таймера,
						метод зміни повідомлення без зупинки таймера.
					</div>
				</div>
				<script>
					class Reminder {
						//static stopInterval = false
						static isInterval = false
						//static count = 0
						//static messegeCount = 0
						constructor() {}
						static changeMessege() {
							Reminder.messegeCount++
						}
						static massage(messages) {
							console.log(messages[Reminder.messegeCount])
						}
						static showMassage(massage, interval, stopIterval) {
							if (!Reminder.isInterval) {
								Reminder.isInterval = true
								Reminder.stopInterval = false
								Reminder.messegeCount = 0
								Reminder.count = 0
								Reminder.stopIntervalFunc(stopIterval)
								let intervalId = setInterval(() => {
									if (Reminder.stopInterval) clearInterval(intervalId)
									if (Reminder.messegeCount > massage.length - 1) Reminder.messegeCount = 0
									Reminder.count++
									Reminder.massage(massage)
									console.log(`кількість нанадувань  ${Reminder.count}`)
									Reminder.changeMessege()
								}, interval)
							}
						}
						static stopIntervalFunc(timeout) {
							setTimeout(() => {
								Reminder.stopInterval = true
								Reminder.isInterval = false
							}, timeout)
						}
					}
					Reminder.showMassage(["wake up", "go bed"], 2000, 6000)
					// другий не створюється
					Reminder.showMassage(["Go work", "cook"], 2000, 18000)
				</script>
			</div>
		</main>
	</body>
</html>
